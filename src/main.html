<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/elementui.css">
</head>
<body>
    <div id="app" style="width: 100%;height: 100%">
        <el-container>
            <el-aside width="200px" class="aside">
                <div class="aside-top">
                    <div class="date-box">{{today}}</div> 
                    <div class="oprate-box">
                        <button class="enable-click" @click="status = '0'">代办事项</button>
                        <button class="enable-click" @click="status = '1'">已完成</button>
                    </div>
                </div>
                <div class="aside-bottom enable-click flex-center" @click="dialogFormVisible = true">
                    <div><svg style="color: #67C23A;font-size: 25px;" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"/></svg></div>
                    <div>新建</div>
                </div>
            </el-aside>
            <el-main class="main">
                <div class="main-header">
                    <div @click="closeWindow" class="enable-click">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M20.48 3.512a11.97 11.97 0 0 0-8.486-3.514C5.366-.002-.007 5.371-.007 11.999c0 3.314 1.344 6.315 3.516 8.487A11.97 11.97 0 0 0 11.995 24c6.628 0 12.001-5.373 12.001-12.001c0-3.314-1.344-6.315-3.516-8.487m-1.542 15.427a9.8 9.8 0 0 1-6.943 2.876c-5.423 0-9.819-4.396-9.819-9.819a9.8 9.8 0 0 1 2.876-6.943a9.8 9.8 0 0 1 6.942-2.876c5.422 0 9.818 4.396 9.818 9.818a9.8 9.8 0 0 1-2.876 6.942z"/><path fill="currentColor" d="m13.537 12l3.855-3.855a1.091 1.091 0 0 0-1.542-1.541l.001-.001l-3.855 3.855l-3.855-3.855A1.091 1.091 0 0 0 6.6 8.145l-.001-.001l3.855 3.855l-3.855 3.855a1.091 1.091 0 1 0 1.541 1.542l.001-.001l3.855-3.855l3.855 3.855a1.091 1.091 0 1 0 1.542-1.541l-.001-.001z"/></svg>
                    </div>
                </div>
                <div class="enable-click" v-if="status === '0'">
                    <h1>今日待完成任务</h1>
                    <el-table
                        :data="todoList"
                        style="width: 100%">
                        <el-table-column
                            prop="name"
                            label="任务名称"
                            width="180">
                        </el-table-column>
                        <el-table-column
                            prop="time"
                            label="时间"
                            width="180">
                        </el-table-column>
                        <el-table-column label="状态">
                            <template slot-scope="scope">
                                <span v-if="scope.row.status === '1'" style="color: #67C23A;" class="enable-click">已完成</span>
                                <span v-if="scope.row.status === '0'" style="color: red;" class="enable-click">未完成</span>
                            </template>
                        </el-table-column>
                        <el-table-column label="操作">
                            <template slot-scope="scope">
                                <el-button
                                size="mini"
                                @click="compeleteItem(scope.row.id)">完成</el-button>
                                <el-button
                                size="mini"
                                type="danger"
                                @click="deleteItem(scope.row.id)">删除</el-button>
                            </template>
                        </el-table-column>
                    </el-table>
                </div>
                <div class="enable-click" v-if="status === '1'">
                    <h1>今日已完成任务</h1>
                    <el-table
                        :data="redoList"
                        style="width: 100%">
                        <el-table-column
                            prop="name"
                            label="任务名称"
                            width="180">
                        </el-table-column>
                        <el-table-column
                            prop="time"
                            label="时间"
                            width="180">
                        </el-table-column>
                        <el-table-column label="状态">
                            <template slot-scope="scope">
                                <span v-if="scope.row.status === '1'" style="color: #67C23A;" class="enable-click">已完成</span>
                                <span v-if="scope.row.status === '0'" style="color: red;" class="enable-click">未完成</span>
                            </template>
                        </el-table-column>
                        <el-table-column label="操作">
                            <template slot-scope="scope">
                                <el-button
                                size="mini"
                                @click="handleEdit(scope.$index, scope.row)">完成</el-button>
                                <el-button
                                size="mini"
                                type="danger"
                                @click="handleDelete(scope.$index, scope.row)">删除</el-button>
                            </template>
                        </el-table-column>
                    </el-table>
                </div>
            </el-main>
        </el-container>

        <el-dialog title="新增任务" :visible.sync="dialogFormVisible" class="enable-click">
            <el-form :model="form">
                <el-form-item label="任务名称" label-width="120px">
                <el-input v-model="form.name" autocomplete="off"></el-input>
                </el-form-item>
                <el-form-item label="任务时间" label-width="120px">
                    <el-time-picker
                        v-model="form.time"
                        placeholder="选择日期时间"
                        value-format="HH:mm:ss">
                    </el-time-picker>
                </el-form-item>
            </el-form>
            <div slot="footer" class="dialog-footer">
                <el-button @click="closeDailog">取 消</el-button>
                <el-button type="primary" @click="submitForm">确 定</el-button>
            </div>
        </el-dialog>
    </div>
    <script src="./js/vue.js"></script>
    <script src="./js/elementui.js"></script>
    <script src="./js/index.js" type="module"></script>
</body>
</html>